// Script (C) 2012 by Mark Rosenfelder.
// You can modify the code for non-commercial use; 
// attribution would be nice.
// If you want to make money off it, please contact me.

// Modified by Jason Tamez 2017-2020.
// Code available here: https://github.com/jasontamez/wordgen

// Minified by https://javascript-minifier.com/ (with extra linebreaks)


var $WG={categories:null,midWordSyls:null,wordInitSyls:null,wordFinalSyls:null,singleWordSyls:null,rew:null,previous:{overrides:null,categories:null,midWordSyls:null,wordInitSyls:null,wordFinalSyls:null,singleWordSyls:null,rew:null},rewSep:!1,customInfo:!1,customizable:!1,getter:new XMLHttpRequest,predefFilename:"/predefs.json",predefs:new Map,SPACE:String.fromCharCode(160),dropoff:30,monoRate:20,slowSylDrop:!1,showSyls:!1,oneType:!0,overrides:{dropoff:0,monoRate:0,sylRate:0,total:!1,cue:">",sep:",",categories:null,midWordSyls:null,wordInitSyls:null,wordFinalSyls:null,singleWordSyls:null,flags:{midWordSyls:!1,wordInitSyls:!1,wordFinalSyls:!1,singleWordSyls:!1}}};function $i(e,r=document){return r.getElementById(e)}function $q(e,r=document){return r.querySelector(e)}function $a(e,r=document){return r.querySelectorAll(e)}function $e(e,r=!1,o=!1){var t=document.createElement(e);return!1!==r&&(t.textContent=r),!1!==o&&Object.entries(o).forEach(e=>t.setAttribute(e[0],e[1])),t}function $t(e){return document.createTextNode(e)}function $f(){return document.createDocumentFragment()}function escapeHTML(e){return $e("p",e).innerHTML}function parseSyllables(e){var r=[],o=$WG.overrides,t=o.total,i=e.split(/\r?\n/),n=t?[]:null,l=o.sylRate||calcDropoff(e.length);return i.forEach(function(e){var i=e.trim();if(""!==i){if(t){let[e,r]=i.split(o.cue);if(""===(i=e.trim()))return;if(r&&(r=r.trim())){let e=validatePercentage(r,l);l=e,n.push(e)}else n.push(l)}r.push(i)}}),{syllables:r,ratesFound:n}}function handleCategoriesInRewriteRule(e){for(var r,o,t,i=e.split("%%"),n=[],l=$WG.categories;i.length;){for(o=(r=i.shift().split("!%")).shift();r.length;){let e;t=r.shift(),e=l.get(t.charAt(0)),void 0!==test&&(o+="[^"+e+"]"),o+=t.substring(1)}for(r=o.split("%"),o=r.shift();r.length;){let e;t=r.shift(),void 0!==(e=l.get(t.charAt(0)))&&(o+="["+e+"]"),o+=t.substring(1)}n.push(o)}return n.join("%")}function applyRewriteRules(e){return $WG.rew.forEach(function(r,o){e=e.replace(o,r)}),e}function powerLaw(e,r){var o;for(o=0;;o=(o+1)%e)if(Math.floor(101*Math.random())<r)return o}function peakedPowerLaw(e,r,o){return Math.random()>.5?r+powerLaw(e-r,o):r-powerLaw(r+1,o)}
function oneSyllable(e,r){var o,t=syllPatternPick(r),i=$WG.categories,n=$WG.overrides,l=n.total,a=n.dropoff||$WG.dropoff;for(o=0;o<t.length;o++){let r=t.charAt(o),n=i.get(r);if(void 0===n)e+=r;else{let o=n.length,t=-1;l&&(t=handleInlineCategoryDropoffRate(r,o,a)),-1===t&&(t=0===a?Math.random()*o:powerLaw(o,a)),e+=n.charAt(t)}}return e}function syllPatternPick(e){var r,o,t,i=$WG.overrides;switch(e){case-1:t="wordInitSyls";break;case 0:t="midWordSyls";break;case 1:t="wordFinalSyls";break;case 2:t="singleWordSyls"}return i.total?inlineSyllableRatePicker(t):(o=$WG[t])[powerLaw(r=o.length,i.sylRate||calcDropoff(r))]}function inlineSyllableRatePicker(e){var r,o=$WG[e],t=o.length,i=12,n=$WG.overrides,l=n[e];if(!n.flags[e]){for(l=l.map(function(e){return e?(i=e,e):i});l.length<t;)l.push(i);l.length>t&&(l=l.slice(0,t)),n.flags[e]=!0}for(r=0;;r=(r+1)%t)if(Math.floor(101*Math.random())<l[r])return o[r]}function handleInlineCategoryDropoffRate(e,r,o){var t=o,i=$WG.overrides.categories.get(e);if(!i)return-1;for(i=i.map(function(e){return(e<1||e>99)&&(e=t),t=e,e});i.length<r;)i.push(t);for(i.length>r&&(i=i.slice(0,r)),pos=0;;pos=(pos+1)%r)if(Math.floor(101*Math.random())<i[pos])return pos}function getOneWord(e){var r,o,t=1,i=$WG.overrides.monoRate||$WG.monoRate,n=$WG.oneType,l="";if(Math.floor(101*Math.random())>i&&(t+=1+powerLaw(4,50)),1===t)l=oneSyllable("",n?-1:2);else{let e=$WG.showSyls;for(r=1;r<=t;r++)n||1===r?o=-1:r>1&&(o=r<t?0:1),l=oneSyllable(l,o),e&&r<t&&(l+="Â·")}return l=applyRewriteRules(l),e&&(l=l.charAt(0).toUpperCase()+l.substring(1)),l}function createText(){var e,r,o,t="",i=getAdvancedNumber($i("sentences"),30,500);for(e=0;e<i;e++)for(o=peakedPowerLaw(15,5,50),r=0;r<=o;r++)t+=getOneWord(0===r),r===o&&(t+=".....?!".charAt(Math.floor(7*Math.random()))),t+=" ";return $t(t)}function createLex(e){var r,o=$e("div"),t=getAdvancedNumber($i("lexiconLength"),150,1e3),i=[];for(o.classList.add("lexicon"),o.style.gridTemplateColumns="repeat(auto-fit, minmax("+getAdvancedNumber($i("wordLengthInEms"),10,1e3).toString()+"em, 1fr) )",r=0;r<t;r++)i.push(getOneWord(e));return i.sort(),i.forEach(function(e){o.appendChild($e("div",e))}),o}function createLongLex(){var e,r=$f(),o=getAdvancedNumber($i("largeLexiconLength"),750,5e3);for(e=0;e<o;e++)r.append(getOneWord(!1),$e("br"));return r}function getAdvancedNumber(e,r,o){var t=Math.floor(Number(e.value));return isNaN(t)||t<1?r:t>o?o:t}
function getEverySyllable(){var e,r=new Set,o=$f();return new Set($WG.midWordSyls.concat($WG.wordInitSyls,$WG.wordFinalSyls,$WG.singleWordSyls)).forEach(function(e){recurseCategoriesForSyllables(r,"",e.split(""))}),(e=[...r]).sort(),o.appendChild($t(e.shift())),e.forEach(e=>o.append($e("br"),e)),o}function recurseCategoriesForSyllables(e,r,o){var t,i=o.slice(0);void 0===(t=$WG.categories.get(i.shift()))?(r+=t,i.length?recurseCategoriesForSyllables(e,r,i):e.add(applyRewriteRules(r))):i.length>0?t.split("").forEach(function(o){recurseCategoriesForSyllables(e,r+o,i)}):t.split("").forEach(function(o){e.add(applyRewriteRules(r+o))})}function validatePercentage(e,r=0,o=99,t=0){var i=Math.min(Math.max(Number(e),t),o);return i!=i?r:i}function checkOverrides(){var e=$WG.overrides,r=!!$i("inlineDropoffOverride").checked;e.dropoff=validatePercentage($i("dropoffOverride").value),e.monoRate=validatePercentage($i("monoRateOverride").value),e.slowSylDrop=validatePercentage($i("slowSylDropOverride").value),e.total=r,r&&(e.cue=$i("inlineDropoffOverrideCue").value||">",e.sep=$i("inlineDropoffOverrideSep").value||",",e.categories=e.categories||new Map,e.midWordSyls=e.midWordSyls||[],e.wordInitSyls=e.wordInitSyls||[],e.wordFinalSyls=e.wordFinalSyls||[],e.singleWordSyls=e.singleWordSyls||[])}
function generate(){var e,r,o,t,i,n,l,a,s,d,u=[],c=$WG.categories,f=$WG.overrides,p=$WG.previous;if(o=$q("input[type=radio][name=outType]:checked").value,$WG.showSyls=$i("showSyls").checked,$WG.slowSylDrop=$i("slowSylDrop").checked,a=$i("oneType").checked,$WG.oneType=a,s=$q("input[type=radio][name=monoRate]:checked").value,d=$q("input[type=radio][name=dropoff]:checked").value,$WG.monoRate=validatePercentage(s,100,100),$WG.dropoff=validatePercentage(d,45,45),checkOverrides(),r=(e=f.total)!==p.overrides,p.overrides=e,t=$i("categories").value,r||t!==p.categories){let e=parseCategories(t);e.flag&&e.cats.size>0?(p.categories=t,$WG.categories=e.cats,c=e.cats,f.categories=e.rates):(u.push(...e.msgs),c=!1)}if(t=$i("midWord").value,r||t!==p.midWordSyls){let r;f.flags.midWordSyls=!1,r=parseSyllables(t),$WG.midWordSyls=r.syllables,p.midWordSyls=t,e&&(f.midWordSyls=r.ratesFound)}if(t=$i("wordInitial").value,r||t!==p.wordInitSyls){let r;f.flags.wordInitSyls=!1,r=parseSyllables(t),$WG.wordInitSyls=r.syllables,p.wordInitSyls=t,e&&(f.wordInitSyls=r.ratesFound)}if(t=$i("wordFinal").value,r||t!==p.wordFinalSyls){let r;f.flags.wordFinalSyls=!1,r=parseSyllables(t),$WG.wordFinalSyls=r.syllables,p.wordFinalSyls=t,e&&(f.wordFinalSyls=r.ratesFound)}if(t=$i("singleWord").value,r||t!==p.singleWordSyls){let r;f.flags.singleWordSyls=!1,r=parseSyllables(t),$WG.singleWordSyls=r.syllables,p.singleWordSyls=t,e&&(f.singleWordSyls=r.ratesFound)}if(!c||c.size<=0)(n=$f()).append($e("strong","Missing:"),$WG.SPACE+"You must have categories to generate text."),u.push(n);else if(c&&(t=$i("rewrite").value,i=$i("rewSep").value,p.rew!==t||i!==$WG.rewSep)){let e;$WG.rewSep=i,(e=parseRewriteRules(t)).flag?(p.rew=t,$WG.rew=e.rules):u.push(...e.msgs)}if(a&&$WG.wordInitSyls.length<=0?((n=$f()).append($e("strong","Missing:"),$WG.SPACE+"You must have syllable types to generate text."),u.push(n)):!a&&($WG.midWordSyls.length<=0||$WG.wordInitSyls.length<=0||$WG.wordFinalSyls.length<=0||$WG.singleWordSyls.length<=0)&&((n=$f()).append($e("strong","Missing:"),$WG.SPACE+"You must have"+$WG.SPACE,$e("em","all"),$WG.SPACE+"syllable types to generate text."),u.push(n)),u.length>0)(l=$f()).appendChild(u.shift()),u.forEach(function(e){l.append($e("br"),$e("br"),e)});else switch(o){case"text":l=createText();break;case"dict":l=createLex(!1);break;case"dictC":l=createLex(!0);break;case"longdict":l=createLongLex();break;case"genall":l=getEverySyllable()}eraseOutputFromScreen(),$i("outputText").appendChild(l)}
function parseCategories(e){var r=e.split(/\r?\n/),o=new Map,t=[],i=new Map;return{flag:r.every(function(e){var r=e.trim(),n=r.length,l=$WG.overrides;if(0===n)return!0;if(l.total){var[a,s]=r.split(l.cue);r=a.trim(),s&&i.set("temp",s.trim().split(l.sep).map(e=>validatePercentage(e)))}if(n<3||1!==r.indexOf("=")||-1!==r.indexOf("=",2)){let e=$f();return e.append($e("strong","Error:"),$WG.SPACE+r,$e("br"),"Categories must be of the form V=aeiou",$e("br"),"That is, a single letter, an equal sign, then a list of possible expansions."),t.push(e),l.total&&i.delete("temp"),!1}{let e=r.charAt(0);if(void 0!==o.get(e)){let e=$f();return e.append($e("strong","Error:"),$WG.SPACE+"You have defined category "+r+" more than once."),t.push(e),!1}o.set(e,r.substring(2)),l.total&&(i.set(e,i.get("temp")),i.delete("temp"))}return!0}),cats:o,errorMessages:t,rates:i.size>0?i:null}}function parseRewriteRules(e){var r=e.split(/\r?\n/),o=new Map,t=[],i=$WG.rewSep;return{flag:r.every(function(e){var r=e.indexOf(i);if(""===e.trim());else{if(r<1||r!==e.lastIndexOf(i)){let r=$f();return r.append($e("strong","Error:"),$WG.SPACE+e,$e("br"),"Rewrite rules must be in the form x"+i+"y",$e("br"),"That is, a rule (x), followed by "+("||"===i?"two vertical bars":'the exact text "'+i+'"')+", followed by a replacement expression (y, which may be blank)."),t.push(r),!1}{let t=e.substring(r+2),i=new RegExp(handleCategoriesInRewriteRule(e.substring(0,r)),"g");o.set(i,t)}}return!0}),rules:o,msgs:t}}
function calcDropoff(e){if(1===e)return 101;if($WG.slowSylDrop)switch(e){case 2:return 50;case 3:return 40;case 4:case 5:case 6:case 7:case 8:case 9:return 46-4*e;default:return 9}return e<9?60-5*e:12}function eraseOutputFromScreen(){for(var e=$i("outputText");e.firstChild;)e.removeChild(e.firstChild)}function clearBoxes(){$i("categories").value="",$i("wordInitial").value="",$i("midWord").value="",$i("singleWord").value="",$i("wordFinal").value="",$i("rewrite").value="",$i("monoLessFrequent").checked=!0,$i("dropoffMedium").checked=!0,$i("textOutput").checked=!0,$i("showSyls").checked=!1,$i("slowSylDrop").checked=!1}function prepImport(e){"string"!=typeof e?$a("#importBoxArea .msg").forEach(e=>e.classList.add("hidden")):$a("#importBoxArea .msg").forEach(function(r){var o=e.split("<br>");r.textContent=o.shift(),o.forEach(function(e){r.append($e("br"),e)}),r.classList.remove("hidden")}),$i("importBoxArea").classList.remove("closed"),document.body.classList.add("noOverflow")}function removeImportBox(){var e=$i("importTextBox");e.value="",e.disabled=!1,$i("importBoxArea").classList.add("closed"),$i("doImportButton").classList.remove("hidden"),document.body.classList.remove("noOverflow")}
function doImport(e,r=!1){var o=e;if(!r){e=$i("importTextBox").value.trim();try{o=JSON.parse(e)}catch(e){return console.log(e),!r&&doAlert("Bad Format","The information provided was malformed and could not be read.","error")}}try{$i("categories").value=o.categories||$i("categories").value,$i("rewrite").value=o.rewrite||$i("rewrite").value,$i("singleWord").value=o.singleWord||$i("singleWord").value,$i("midWord").value=o.midWord||$i("midWord").value,$i("wordInitial").value=o.wordInitial||$i("wordInitial").value,$i("wordFinal").value=o.wordFinal||$i("wordFinal").value,$i(o.monoRate).checked=!0,$i(o.dropoff).checked=!0,$i("oneType").checked=!!o.oneType,$i("slowSylDrop").checked=!!o.slowSylDrop,$i("wordLengthInEms").value=o.wordLengthInEms||$i("wordLengthInEms").value,$i("lexiconLength").value=o.lexiconLength||$i("lexiconLength").value,$i("largeLexiconLength").value=o.largeLexiconLength||$i("largeLexiconLength").value,$i("sentences").value=o.sentences||$i("sentences").value,$i("rewSep").value=o.rewSep||$i("rewSep").value,$i("dropoffOverride").value=o.dropoffOverride||$i("dropoffOverride").value,$i("monoRateOverride").value=o.monoRateOverride||$i("monoRateOverride").value,$i("slowSylDropOverride").value=o.slowSylDropOverride||$i("slowSylDropOverride").value,$i("inlineDropoffOverride").checked=!!o.inlineDropoffOverride,$i("inlineDropoffOverrideCue").value=o.inlineDropoffOverrideCue||$i("inlineDropoffOverrideCue").value,$i("inlineDropoffOverrideSep").value=o.inlineDropoffOverrideSep||$i("inlineDropoffOverrideSep").value}catch(e){return console.log(e),!r&&doAlert("Bad Format","The information provided was malformed and could not be completely loaded.","error")}if(syllabicChangeDetection(),r)return!0;doAlert("Import Successful!","","success"),removeImportBox()}
function doExport(e){var r,o;if(!e){let e,r;return Array.from($a('input[name="monoRate"]')).every(function(r){return!r.defaultChecked||(e=r.id,!1)}),Array.from($a('input[name="dropoff"]')).every(function(e){return!e.defaultChecked||(r=e.id,!1)}),{categories:$i("categories").defaultValue,rewrite:$i("rewrite").defaultValue,singleWord:$i("singleWord").defaultValue,midWord:$i("midWord").defaultValue,wordInitial:$i("wordInitial").defaultValue,wordFinal:$i("wordFinal").defaultValue,oneType:$i("oneType").defaultChecked,slowSylDrop:$i("slowSylDrop").defaultChecked,monoRate:e,dropoff:r,wordLengthInEms:$i("wordLengthInEms").defaultValue,lexiconLength:$i("lexiconLength").defaultValue,largeLexiconLength:$i("largeLexiconLength").defaultValue,sentences:$i("sentences").defaultValue,rewSep:$i("rewSep").defaultValue,dropoffOverride:$i("dropoffOverride").defaultValue,monoRateOverride:$i("monoRateOverride").defaultValue,slowSylDropOverride:$i("slowSylDropOverride").defaultValue,inlineDropoffOverride:$i("inlineDropoffOverride").defaultChecked,inlineDropoffOverrideCue:$i("inlineDropoffOverrideCue").defaultValue,inlineDropoffOverrideSep:$i("inlineDropoffOverrideSep").defaultValue}}o={categories:$i("categories").value,rewrite:$i("rewrite").value,singleWord:$i("singleWord").value,midWord:$i("midWord").value,wordInitial:$i("wordInitial").value,wordFinal:$i("wordFinal").value,oneType:$i("oneType").checked,slowSylDrop:$i("slowSylDrop").checked,monoRate:$q("input[name=monoRate]:checked").getAttribute("id"),dropoff:$q("input[name=dropoff]:checked").getAttribute("id"),wordLengthInEms:$i("wordLengthInEms").value,lexiconLength:$i("lexiconLength").value,largeLexiconLength:$i("largeLexiconLength").value,sentences:$i("sentences").value,rewSep:$i("rewSep").value,dropoffOverride:$i("dropoffOverride").value,monoRateOverride:$i("monoRateOverride").value,slowSylDropOverride:$i("slowSylDropOverride").value,inlineDropoffOverride:$i("inlineDropoffOverride").checked,inlineDropoffOverrideCue:$i("inlineDropoffOverrideCue").value,inlineDropoffOverrideSep:$i("inlineDropoffOverrideSep").value},(r=$i("importTextBox")).value=JSON.stringify(o),r.disabled=!0,$i("doImportButton").classList.add("hidden"),prepImport("Copy this for your own records.<br><br>Hit 'Cancel' when you're done.")}
function saveCustom(e){var r,o=$i("predef");if($WG.customizable){if($WG.customInfo&&!0!==e)return doConfirm("Warning!","You already have information saved. Do you want to overwrite it?",function(){saveCustom(!0)},function(){doAlert("Previous information saved.","Nothing overwritten.","success")},"warning","Yes","No");if(r={categories:$i("categories").value,rewrite:$i("rewrite").value,singleWord:$i("singleWord").value,midWord:$i("midWord").value,wordInitial:$i("wordInitial").value,wordFinal:$i("wordFinal").value,oneType:$i("oneType").checked,slowSylDrop:$i("slowSylDrop").checked,monoRate:$q("input[name=monoRate]:checked").getAttribute("id"),dropoff:$q("input[name=dropoff]:checked").getAttribute("id"),wordLengthInEms:$i("wordLengthInEms").value,lexiconLength:$i("lexiconLength").value,largeLexiconLength:$i("largeLexiconLength").value,sentences:$i("sentences").value,rewSep:$i("rewSep").value,dropoffOverride:$i("dropoffOverride").value,monoRateOverride:$i("monoRateOverride").value,slowSylDropOverride:$i("slowSylDropOverride").value,inlineDropoffOverride:$i("inlineDropoffOverride").checked,inlineDropoffOverrideCue:$i("inlineDropoffOverrideCue").value,inlineDropoffOverrideSep:$i("inlineDropoffOverrideSep").value},localStorage.setItem("WordGenCustomOption",JSON.stringify(r)),$WG.customInfo=!0,null===$q('option[value="pd-1"]',o)){let e=document.createElement("option");e.value="pd-1",e.textContent="Custom",o.prepend(e)}o.value="pd-1",$WG.predefs.set("pd-1",r),doAlert("Saved to browser.","","success")}else doAlert("","Your browser does not support Local Storage and cannot save your information.","error")}
function clearCustom(e){if($WG.customizable)if($WG.customInfo){if($WG.customInfo&&!0!==e)return doConfirm("Warning!","Are you sure you want to delete your saved settings?",function(){clearCustom(!0)},function(){doAlert("Settings kept.","","success")},"warning","Yes","No");window.localStorage.removeItem("WordGenCustomOption"),$WG.customInfo=!1,$q('#predef option[value="pd-1"]').remove(),$WG.predefs.delete("pd-1"),doAlert("Cleared from browser.","","success")}else doAlert("","You don't have anything saved.","error");else doAlert("Sorry!","Your browser does not support Local Storage and cannot save your information.","error")}function showIPA(){eraseOutputFromScreen(),$i("outputText").appendChild(createIPASymbolsFragment([$e("br"),$e("br")]))}function advancedOptions(){$i("advancedOpen").classList.toggle("closed")}function loadPredef(){var e=$i("predef").value;console.log("Opening predef ["+e+"]"),doImport($WG.predefs.get(e),!0),syllabicChangeDetection()}function parsePredefsFromFile(){var e,r=$WG.getter.responseText.trim().split(/\r?\n/).join(""),o=$WG.predefs,t=o.size+(void 0===o.get("pd-1")?0:-1);try{if((e=JSON.parse(r)).constructor!==Array)return console.log("Predefs file was not in Array format."),!1}catch(e){return console.log(e),console.log("Unable to parse predefs from file."),!1}e.forEach(function(e){var r,i,n,l;if("object"!=typeof e||void 0===(r=e.name)||"string"!=typeof r)return console.log("Bad predef encountered - malformed object, or missing or malformed name property"),console.log(e),!1;i=$i("predef"),n=document.createElement("option"),l="pd"+(++t).toString(),console.log("Saving predef: "+r+" as ["+l+"]"),o.set(l,e),n.textContent=r,n.value=l,i.appendChild(n)}),$i("loadPredefButton").disabled=!1,$i("predef").disabled=!1}
function syllabicChangeDetection(){$i("oneType").checked?($a("#p_multi,.multiswap").forEach(e=>e.classList.add("hidden")),$a(".singleswap").forEach(e=>e.classList.remove("hidden"))):($a("#p_multi,.multiswap").forEach(e=>e.classList.remove("hidden")),$a(".singleswap").forEach(e=>e.classList.add("hidden")))}if($WG.getter.addEventListener("load",parsePredefsFromFile),$WG.getter.open("GET",$WG.predefFilename),$WG.getter.send(),$i("loadPredefButton").disabled=!0,$i("predef").disabled=!0,$WG.predefs.set("pd1",doExport(!1)),"undefined"!=typeof Storage){let e=localStorage.getItem("WordGenCustomOption");if($WG.customizable=!0,null!==e){$WG.customInfo=!0;let r=document.createElement("option"),o=JSON.parse(e);$i("categories").value=o.categories,$i("rewrite").value=o.rewrite,$i("singleWord").value=o.singleWord,$i("midWord").value=o.midWord,$i("wordInitial").value=o.wordInitial,$i("wordFinal").value=o.wordFinal,$i(o.monoRate).checked=!0,$i(o.dropoff).checked=!0,$i("oneType").checked=o.oneType,$i("slowSylDrop").checked=o.slowSylDrop,$i("wordLengthInEms").value=o.wordLengthInEms,$i("lexiconLength").value=o.lexiconLength,$i("largeLexiconLength").value=o.largeLexiconLength,$i("sentences").value=o.sentences,$i("rewSep").value=o.rewSep,$i("dropoffOverride").value=o.dropoffOverride,$i("monoRateOverride").value=o.monoRateOverride,$i("slowSylDropOverride").value=o.slowSylDropOverride,$i("inlineDropoffOverride").checked=o.inlineDropoffOverride,$i("inlineDropoffOverrideCue").value=o.inlineDropoffOverrideCue,$i("inlineDropoffOverrideSep").value=o.inlineDropoffOverrideSep,$WG.predefs.set("pd-1",o),r.value="pd-1",r.textContent="Custom",$i("predef").prepend(r),$i("predef").value="pd-1"}syllabicChangeDetection()}
function doAlert(e,r,o){"undefined"!=typeof Swal?Swal.fire({type:o,title:e,html:r,customClass:"doAlertBox",buttonsStyling:!1}):alert((e+" "+r.replace(/<br>/g,"\n").replace(/<[^>]*>/g,"")).trim())}function doConfirm(e,r,o,t,i="question",n="Ok",l="Cancel"){"undefined"!=typeof Swal?Swal.fire({title:e,html:r,type:i,showCancelButton:!0,confirmButtonText:n,cancelButtonText:l,customClass:"doAlertBox",buttonsStyling:!1}).then(e=>e.value?o.call():t.call()):confirm((e+" "+r.replace(/<br>/g,"\n").replace(/<[^>]*>/g,"")).trim())?o.call():t.call()}$i("oneType").addEventListener("change",syllabicChangeDetection),syllabicChangeDetection(),$i("advancedOpenButton").addEventListener("click",advancedOptions),$i("saveCustomButton").addEventListener("click",saveCustom),$i("clearCustomButton").addEventListener("click",clearCustom),$i("prepImportButton").addEventListener("click",prepImport),$i("generateButton").addEventListener("click",generate),$i("eraseButton").addEventListener("click",eraseOutputFromScreen),$i("clearBoxesButton").addEventListener("click",clearBoxes),$i("showIPAButton").addEventListener("click",showIPA),$i("loadPredefButton").addEventListener("click",loadPredef),$i("doImportButton").addEventListener("click",doImport),$i("removeImportBoxButton").addEventListener("click",removeImportBox),$i("doExportButton").addEventListener("click",doExport.bind(null,!0));
